# -*- coding: utf-8 -*-
# Generated by Django 1.11.13 on 2018-11-15 13:30
from __future__ import unicode_literals

from django.db import migrations

from userprofile.constants import UserStatuses


def update_status(apps, schema_editor):
    user_profile_model = apps.get_model("userprofile", "UserProfile")
    user_profile_model.objects.filter(is_active=True).update(status=UserStatuses.active.name)
    user_profile_model.objects.filter(is_active=False).update(status=UserStatuses.pending.name)


class Migration(migrations.Migration):

    dependencies = [
        ("userprofile", "0035_userprofile_status"),
    ]

    operations = [
        migrations.RunPython(update_status),
    ]
